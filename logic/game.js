(function(_0x42eae1,_0x164e64){const _0x2cfad=a2_0x4965,_0x55a1f3=_0x42eae1();while(!![]){try{const _0x3398cc=-parseInt(_0x2cfad(0x1c6))/0x1+parseInt(_0x2cfad(0x1d1))/0x2+-parseInt(_0x2cfad(0x1dd))/0x3+parseInt(_0x2cfad(0x1be))/0x4*(-parseInt(_0x2cfad(0x1d5))/0x5)+parseInt(_0x2cfad(0x1c2))/0x6*(-parseInt(_0x2cfad(0x1bd))/0x7)+-parseInt(_0x2cfad(0x1ce))/0x8*(-parseInt(_0x2cfad(0x1d8))/0x9)+-parseInt(_0x2cfad(0x1cd))/0xa*(-parseInt(_0x2cfad(0x1d3))/0xb);if(_0x3398cc===_0x164e64)break;else _0x55a1f3['push'](_0x55a1f3['shift']());}catch(_0x582699){_0x55a1f3['push'](_0x55a1f3['shift']());}}}(a2_0x1c0e,0xca0ff),function(_0x36cf6a,_0xae8cd){const _0x37ac6d=a2_0x4965,_0x2d46a8=a2_0x39b5,_0x260401=_0x36cf6a();while(!![]){try{const _0x1a5193=-parseInt(_0x2d46a8(0xcf))/0x1+-parseInt(_0x2d46a8(0xbf))/0x2+-parseInt(_0x2d46a8(0xc6))/0x3*(parseInt(_0x2d46a8(0xd7))/0x4)+-parseInt(_0x2d46a8(0xcc))/0x5*(parseInt(_0x2d46a8(0xda))/0x6)+-parseInt(_0x2d46a8(0xd9))/0x7+-parseInt(_0x2d46a8(0xd1))/0x8*(parseInt(_0x2d46a8(0xc3))/0x9)+parseInt(_0x2d46a8(0xc7))/0xa;if(_0x1a5193===_0xae8cd)break;else _0x260401[_0x37ac6d(0x1da)](_0x260401[_0x37ac6d(0x1c8)]());}catch(_0x97b171){_0x260401[_0x37ac6d(0x1da)](_0x260401[_0x37ac6d(0x1c8)]());}}}(a2_0x141b,0x87b5a));import{nextGameId}from'./session.js';const ROWS=0x6,COLS=0x7,EMPTY=0x0;function a2_0x39b5(_0x461a6c,_0x451391){const _0xede087=a2_0x141b();return a2_0x39b5=function(_0x461c63,_0x1b4403){_0x461c63=_0x461c63-0xbe;let _0x1ee8f4=_0xede087[_0x461c63];return _0x1ee8f4;},a2_0x39b5(_0x461a6c,_0x451391);}function a2_0x1c0e(){const _0xc2ac57=['snapshot','5npOCHr','pop','setting\x20row:\x20','9398043iPVTCW','moves','push','state','Not\x20your\x20turn!','2685708lRLLfC','winnerPlayerId','15YHZsTZ','Column\x20is\x20full','1950urzOHd','debug','Game\x20is\x20won!','350yXgfoP','2358076cxPXnT','initialPlayerId','2952jmVhEk','987318CQazqk','71358ubGSOF','isWon','\x20column:\x20','5428570XFvwkD','1003181nHbkUm','floor','shift','nextPlayerId','\x20to\x20player:\x20','length','800804AcrFmF','10JYpUqv','8hUFpuS','Column\x20out\x20of\x20bounds','isDraw','1792970NSbjww','44519390XDpSeH','21664731isCgWv'];a2_0x1c0e=function(){return _0xc2ac57;};return a2_0x1c0e();}function a2_0x4965(_0x557e78,_0x44a6ec){const _0x1c0eba=a2_0x1c0e();return a2_0x4965=function(_0x496588,_0x2554d2){_0x496588=_0x496588-0x1b9;let _0xb0fea4=_0x1c0eba[_0x496588];return _0xb0fea4;},a2_0x4965(_0x557e78,_0x44a6ec);}function canUndo(_0x4fb1b5){const _0xfc3347=a2_0x4965,_0x5ec3c0=a2_0x39b5;if(_0x4fb1b5[_0x5ec3c0(0xca)][_0x5ec3c0(0xc2)]||_0x4fb1b5[_0x5ec3c0(0xca)]['isDraw'])return{'undo':![],'message':_0x5ec3c0(0xcd)};if(_0x4fb1b5[_0xfc3347(0x1d9)][_0x5ec3c0(0xd8)]===0x0)return{'undo':![],'message':_0x5ec3c0(0xd2)};return{'undo':!![],'message':null};}function a2_0x141b(){const _0x5713eb=a2_0x4965,_0x5ebc52=[_0x5713eb(0x1db),_0x5713eb(0x1bb),'5685kHoOGx','Game\x20is\x20over','Game\x20',_0x5713eb(0x1c1),_0x5713eb(0x1ca),_0x5713eb(0x1c0),'No\x20moves\x20to\x20undo','random',_0x5713eb(0x1bc),_0x5713eb(0x1d7),'snapshot',_0x5713eb(0x1cc),_0x5713eb(0x1cb),_0x5713eb(0x1c5),_0x5713eb(0x1ba),_0x5713eb(0x1bf),_0x5713eb(0x1c9),_0x5713eb(0x1d6),_0x5713eb(0x1cf),'112160xSvToV',_0x5713eb(0x1d9),_0x5713eb(0x1da),_0x5713eb(0x1c3),'17235PcvQCE',_0x5713eb(0x1b9),_0x5713eb(0x1c7),_0x5713eb(0x1df),_0x5713eb(0x1d2),_0x5713eb(0x1d0),'Game\x20is\x20a\x20draw!'];return a2_0x141b=function(){return _0x5ebc52;},a2_0x141b();}function undo(_0x4f96a8){const _0x206946=a2_0x4965,_0x13f558=a2_0x39b5,{undo:_0x3a4632,message:_0x1bb8f5}=canUndo(_0x4f96a8);if(!_0x3a4632)throw new Error(_0x1bb8f5);const _0x4dcc91=_0x4f96a8[_0x13f558(0xc0)][_0x13f558(0xdd)](),{player:_0x1dd52a,column:_0x142ac1}=_0x4dcc91;let _0x211870=0x0;while(_0x211870<ROWS&&_0x4f96a8[_0x13f558(0xd6)][_0x211870][_0x142ac1]===0x0){_0x211870=_0x211870+0x1;}return _0x4f96a8[_0x206946(0x1d4)][_0x211870][_0x142ac1]=EMPTY,_0x4f96a8[_0x13f558(0xdc)]=_0x1dd52a,_0x4f96a8[_0x13f558(0xca)]=checkGame(_0x4f96a8),{'row':_0x211870,'column':_0x142ac1,'player':_0x1dd52a};}function drop(_0x50b9b7,_0x2706bc,_0x166300){const _0x3b8b38=a2_0x4965,_0x591d7d=a2_0x39b5,{drop:_0x4a659d,message:_0x48069e}=canDrop(_0x50b9b7,_0x2706bc,_0x166300);if(!_0x4a659d)throw new Error(_0x48069e);let _0x211b3b=0x0;while(_0x211b3b<ROWS&&_0x50b9b7[_0x591d7d(0xd6)][_0x211b3b][_0x166300]===0x0){_0x211b3b=_0x211b3b+0x1;}console[_0x591d7d(0xcb)](_0x591d7d(0xd5)+(_0x211b3b-0x1)+_0x3b8b38(0x1c4)+_0x166300+_0x591d7d(0xd0)+_0x2706bc),_0x50b9b7[_0x591d7d(0xd6)][_0x211b3b-0x1][_0x166300]=_0x2706bc,_0x50b9b7[_0x591d7d(0xc0)][_0x591d7d(0xc1)]({'player':_0x2706bc,'column':_0x166300}),_0x50b9b7[_0x591d7d(0xdc)]=_0x2706bc===0x1?0x2:0x1,_0x50b9b7[_0x3b8b38(0x1db)]=checkGame(_0x50b9b7);}function canDrop(_0x430d40,_0x3dfabc,_0x317062){const _0x553f9e=a2_0x4965,_0x2f0105=a2_0x39b5;if(_0x430d40[_0x2f0105(0xca)][_0x553f9e(0x1c3)])return{'drop':![],'message':_0x2f0105(0xd4)};if(_0x430d40[_0x2f0105(0xca)][_0x2f0105(0xc8)])return{'drop':![],'message':_0x2f0105(0xc9)};if(_0x430d40[_0x2f0105(0xdc)]!==_0x3dfabc)return{'drop':![],'message':_0x553f9e(0x1dc)};if(_0x317062<0x0||_0x317062>=COLS)return{'drop':![],'message':_0x2f0105(0xbe)};if(_0x430d40[_0x2f0105(0xd6)][0x0][_0x317062]!==0x0)return{'drop':![],'message':_0x2f0105(0xc4)};return{'drop':!![],'message':null};}function checkGame(_0x4f400f){const _0x53cc3b=a2_0x4965,_0x52f733=a2_0x39b5,_0x1f5d53=checkWinner(_0x4f400f);if(_0x1f5d53[_0x52f733(0xc2)])return{'isWon':!![],'isDraw':![],'winnerPlayerId':_0x1f5d53[_0x53cc3b(0x1de)]};if(isDraw(_0x4f400f))return{'isWon':![],'isDraw':!![],'winnerPlayerId':null};return{'isWon':![],'isDraw':![],'winnerPlayerId':null};}function checkWinner(_0x22f6d6){const _0x1ecfc4=a2_0x39b5;let _0x468168=_0x22f6d6[_0x1ecfc4(0xd6)];for(let _0x1d5749=0x0;_0x1d5749<ROWS;_0x1d5749++){for(let _0x54b8e2=0x0;_0x54b8e2<COLS;_0x54b8e2++){const _0x419681=_0x468168[_0x1d5749][_0x54b8e2];if(_0x419681===0x0)continue;if(_0x54b8e2+0x3<COLS&&_0x419681===_0x468168[_0x1d5749][_0x54b8e2+0x1]&&_0x419681===_0x468168[_0x1d5749][_0x54b8e2+0x2]&&_0x419681===_0x468168[_0x1d5749][_0x54b8e2+0x3])return{'isWon':!![],'winnerPlayerId':_0x419681};if(_0x1d5749+0x3<ROWS&&_0x419681===_0x468168[_0x1d5749+0x1][_0x54b8e2]&&_0x419681===_0x468168[_0x1d5749+0x2][_0x54b8e2]&&_0x419681===_0x468168[_0x1d5749+0x3][_0x54b8e2])return{'isWon':!![],'winnerPlayerId':_0x419681};if(_0x1d5749+0x3<ROWS&&_0x54b8e2+0x3<COLS&&_0x419681===_0x468168[_0x1d5749+0x1][_0x54b8e2+0x1]&&_0x419681===_0x468168[_0x1d5749+0x2][_0x54b8e2+0x2]&&_0x419681===_0x468168[_0x1d5749+0x3][_0x54b8e2+0x3])return{'isWon':!![],'winnerPlayerId':_0x419681};if(_0x1d5749+0x3<ROWS&&_0x54b8e2-0x3>=0x0&&_0x419681===_0x468168[_0x1d5749+0x1][_0x54b8e2-0x1]&&_0x419681===_0x468168[_0x1d5749+0x2][_0x54b8e2-0x2]&&_0x419681===_0x468168[_0x1d5749+0x3][_0x54b8e2-0x3])return{'isWon':!![],'winnerPlayerId':_0x419681};}}return{'isWon':![],'winnerPlayerId':null};}function isDraw(_0x12a08e){const _0x40a703=a2_0x39b5;return _0x12a08e[_0x40a703(0xc0)][_0x40a703(0xd8)]===ROWS*COLS;}function createGame(_0x17f22d,_0x5c79a2){const _0x4127e8=a2_0x39b5,_0x1dca19=nextGameId(_0x17f22d),_0x362daa=_0x15afb7=>{const _0x8758b6=a2_0x39b5;if(_0x15afb7)return _0x15afb7[_0x8758b6(0xdb)]===0x1?0x2:0x1;return Math[_0x8758b6(0xc5)](Math[_0x8758b6(0xd3)]()*0x2)+0x1;};return{'id':_0x1dca19,'name':_0x4127e8(0xce)+_0x1dca19,'initialPlayerId':_0x362daa(_0x5c79a2),'nextPlayerId':_0x362daa(_0x5c79a2),'moves':[],'snapshot':getEmptySnapshot(),'state':{'isWon':![],'isDraw':![],'winnerPlayerId':null}};}function getEmptySnapshot(){return[[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY]];}export{ROWS,COLS,createGame,canDrop,drop,canUndo,undo};