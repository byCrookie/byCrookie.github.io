const a4_0x56f47d=a4_0x26af;function a4_0x24c3(){const _0x494bf9=['12PfXgfi','sessions','state\x20not\x20found,\x20saving\x20default\x20state','276zkDzbm','find','Game\x20with\x20id\x20','2372ANGQGn','setItem','games','28688bPebsb','stringify','lastSessionId','6GbQNvX','40HShtxu','Game\x201','map','5238107PSgdcJ','4150375bMLFGK','352064geLItl','#ff0000','45551311ujnOoQ','Session\x20with\x20id\x20','Meier','108IuSffr','286mHlkcl','parse','\x20already\x20exists','push','Hilbert','state','54020zmCNqd','#0000ff'];a4_0x24c3=function(){return _0x494bf9;};return a4_0x24c3();}(function(_0xceec5,_0x3bfbb5){const _0x4110ea=a4_0x26af,_0x18d897=_0xceec5();while(!![]){try{const _0x2bfb71=-parseInt(_0x4110ea(0x76))/0x1*(parseInt(_0x4110ea(0x6f))/0x2)+-parseInt(_0x4110ea(0x6c))/0x3*(parseInt(_0x4110ea(0x72))/0x4)+-parseInt(_0x4110ea(0x7a))/0x5+parseInt(_0x4110ea(0x75))/0x6*(-parseInt(_0x4110ea(0x79))/0x7)+parseInt(_0x4110ea(0x7b))/0x8*(-parseInt(_0x4110ea(0x80))/0x9)+parseInt(_0x4110ea(0x67))/0xa*(-parseInt(_0x4110ea(0x81))/0xb)+parseInt(_0x4110ea(0x69))/0xc*(parseInt(_0x4110ea(0x7d))/0xd);if(_0x2bfb71===_0x3bfbb5)break;else _0x18d897['push'](_0x18d897['shift']());}catch(_0x27b817){_0x18d897['push'](_0x18d897['shift']());}}}(a4_0x24c3,0x8637f));const KEY=a4_0x56f47d(0x66);function getDefaultState(){const _0x186d9f=a4_0x56f47d;return{'lastSessionId':0x1,'sessions':[{'id':0x1,'name':'Session\x201','players':[{'id':0x1,'name':_0x186d9f(0x65),'color':_0x186d9f(0x7c)},{'id':0x2,'name':_0x186d9f(0x7f),'color':_0x186d9f(0x68)}],'lastGameId':0x2,'games':[{'id':0x1,'name':_0x186d9f(0x77),'initialPlayerId':0x1,'nextPlayerId':0x2,'moves':[{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0}],'snapshot':[[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0]],'state':{'isWon':!![],'isDraw':![],'winnerPlayerId':0x1}},{'id':0x2,'name':'Game\x202','initialPlayerId':0x2,'nextPlayerId':0x1,'moves':[{'player':0x2,'column':0x1},{'player':0x1,'column':0x2},{'player':0x2,'column':0x1},{'player':0x1,'column':0x2},{'player':0x2,'column':0x1}],'snapshot':[[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0,0x0,0x0],[0x0,0x2,0x1,0x0,0x0,0x0,0x0],[0x0,0x2,0x1,0x0,0x0,0x0,0x0]],'state':{'isWon':![],'isDraw':![],'winnerPlayerId':null}}]}]};}function addGame(_0x4ebd4c,_0xf0f9ca){const _0xf51912=a4_0x56f47d;if(_0x4ebd4c[_0xf51912(0x71)][_0xf51912(0x78)](_0x4bbcaa=>_0x4bbcaa['id'])['includes'](_0xf0f9ca['id']))throw new Error(_0xf51912(0x6e)+_0xf0f9ca['id']+'\x20already\x20exists');_0x4ebd4c[_0xf51912(0x71)][_0xf51912(0x84)](_0xf0f9ca);}function addSession(_0x44bddd,_0x35c856){const _0x27e5b7=a4_0x56f47d;if(_0x44bddd[_0x27e5b7(0x6a)][_0x27e5b7(0x78)](_0x306dbf=>_0x306dbf['id'])['includes'](_0x35c856['id']))throw new Error(_0x27e5b7(0x7e)+_0x35c856['id']+_0x27e5b7(0x83));_0x44bddd['sessions'][_0x27e5b7(0x84)](_0x35c856);}function a4_0x26af(_0x5c2799,_0x449a39){const _0x24c3f4=a4_0x24c3();return a4_0x26af=function(_0x26af9d,_0x264b47){_0x26af9d=_0x26af9d-0x65;let _0x740ae2=_0x24c3f4[_0x26af9d];return _0x740ae2;},a4_0x26af(_0x5c2799,_0x449a39);}function nextSessionId(_0x507f6a){const _0x14ca88=a4_0x56f47d,_0xd11948=_0x507f6a[_0x14ca88(0x74)]+0x1;return _0x507f6a[_0x14ca88(0x74)]=_0xd11948,_0xd11948;}function getSessionById(_0x2fa5fa,_0x1a875c){const _0x423938=a4_0x56f47d,_0x3e63e0=_0x2fa5fa[_0x423938(0x6a)][_0x423938(0x6d)](_0x258694=>_0x258694['id']===_0x1a875c);if(!_0x3e63e0)throw new Error('Session\x20with\x20id\x20'+_0x1a875c+'\x20not\x20found');return _0x3e63e0;}function resetState(){saveState(getDefaultState()),console['debug']('state',loadState());}function saveState(_0x408fa1){const _0x3435dd=a4_0x56f47d;localStorage[_0x3435dd(0x70)](KEY,JSON[_0x3435dd(0x73)](_0x408fa1)),console['debug'](_0x3435dd(0x66),loadState());}function loadState(){const _0x5a5d59=a4_0x56f47d,_0x4c08c9=localStorage['getItem'](KEY);if(_0x4c08c9)return JSON[_0x5a5d59(0x82)](_0x4c08c9);console['debug'](_0x5a5d59(0x6b));const _0x5523bb=getDefaultState();return saveState(_0x5523bb),_0x5523bb;}export{loadState,saveState,resetState,nextSessionId,getSessionById,addSession,addGame};