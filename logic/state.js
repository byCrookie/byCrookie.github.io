const a4_0x815e73=a4_0x4ed9;(function(_0x61b91a,_0x30b5b4){const _0x4a73c5=a4_0x4ed9,_0xeaac61=_0x61b91a();while(!![]){try{const _0x2d05e9=-parseInt(_0x4a73c5(0x7d))/0x1*(-parseInt(_0x4a73c5(0x8f))/0x2)+parseInt(_0x4a73c5(0x8d))/0x3+parseInt(_0x4a73c5(0x80))/0x4+-parseInt(_0x4a73c5(0x8c))/0x5*(-parseInt(_0x4a73c5(0x76))/0x6)+parseInt(_0x4a73c5(0x86))/0x7*(parseInt(_0x4a73c5(0x85))/0x8)+-parseInt(_0x4a73c5(0x75))/0x9+-parseInt(_0x4a73c5(0x84))/0xa;if(_0x2d05e9===_0x30b5b4)break;else _0xeaac61['push'](_0xeaac61['shift']());}catch(_0x20697b){_0xeaac61['push'](_0xeaac61['shift']());}}}(a4_0x41c1,0x7e82c));const KEY=a4_0x815e73(0x78);function getDefaultState(){const _0x3b44a8=a4_0x815e73;return{'lastSessionId':0x1,'sessions':[{'id':0x1,'name':'Session\x201','players':[{'id':0x1,'name':_0x3b44a8(0x90),'color':_0x3b44a8(0x8a)},{'id':0x2,'name':_0x3b44a8(0x7a),'color':'#0000ff'}],'lastGameId':0x2,'games':[{'id':0x1,'name':_0x3b44a8(0x91),'initialPlayerId':0x1,'nextPlayerId':0x2,'moves':[{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0}],'snapshot':[[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0]],'state':{'isWon':!![],'isDraw':![],'winnerPlayerId':0x1}},{'id':0x2,'name':_0x3b44a8(0x8b),'initialPlayerId':0x2,'nextPlayerId':0x1,'moves':[{'player':0x2,'column':0x1},{'player':0x1,'column':0x2},{'player':0x2,'column':0x1},{'player':0x1,'column':0x2},{'player':0x2,'column':0x1}],'snapshot':[[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0,0x0,0x0],[0x0,0x2,0x1,0x0,0x0,0x0,0x0],[0x0,0x2,0x1,0x0,0x0,0x0,0x0]],'state':{'isWon':![],'isDraw':![],'winnerPlayerId':null}}]}]};}function a4_0x4ed9(_0x4e57ab,_0x32c2fe){const _0x41c1bc=a4_0x41c1();return a4_0x4ed9=function(_0x4ed9fb,_0x2b3e5d){_0x4ed9fb=_0x4ed9fb-0x75;let _0x9074f0=_0x41c1bc[_0x4ed9fb];return _0x9074f0;},a4_0x4ed9(_0x4e57ab,_0x32c2fe);}function addGame(_0x6142da,_0x5a954c){const _0x25c34a=a4_0x815e73;if(_0x6142da[_0x25c34a(0x79)][_0x25c34a(0x7b)](_0x476bcf=>_0x476bcf['id'])[_0x25c34a(0x7e)](_0x5a954c['id']))throw new Error('Game\x20with\x20id\x20'+_0x5a954c['id']+'\x20already\x20exists');_0x6142da[_0x25c34a(0x79)]['push'](_0x5a954c);}function addSession(_0x535344,_0x3ecc2a){const _0x4504b0=a4_0x815e73;if(_0x535344[_0x4504b0(0x82)][_0x4504b0(0x7b)](_0x153b9f=>_0x153b9f['id'])[_0x4504b0(0x7e)](_0x3ecc2a['id']))throw new Error(_0x4504b0(0x89)+_0x3ecc2a['id']+_0x4504b0(0x81));_0x535344[_0x4504b0(0x82)][_0x4504b0(0x7f)](_0x3ecc2a);}function nextSessionId(_0x256c73){const _0x118a34=a4_0x815e73,_0x168705=_0x256c73[_0x118a34(0x7c)]+0x1;return _0x256c73[_0x118a34(0x7c)]=_0x168705,_0x168705;}function hasSessionById(_0x5f3ac2,_0x81b6aa){const _0x2eecae=a4_0x815e73,_0x425f9e=_0x5f3ac2['sessions'][_0x2eecae(0x83)](_0x2d6697=>_0x2d6697['id']===_0x81b6aa);return!!_0x425f9e;}function getSessionById(_0x888a0,_0x429abe){const _0x37b577=a4_0x815e73,_0x169db8=_0x888a0[_0x37b577(0x82)][_0x37b577(0x83)](_0x23b12f=>_0x23b12f['id']===_0x429abe);if(!_0x169db8)throw new Error(_0x37b577(0x89)+_0x429abe+_0x37b577(0x87));return _0x169db8;}function resetState(){const _0x221831=a4_0x815e73;saveState(getDefaultState()),console['debug'](_0x221831(0x78),loadState());}function saveState(_0x19100e){const _0x39c1e5=a4_0x815e73;localStorage[_0x39c1e5(0x88)](KEY,JSON['stringify'](_0x19100e)),console[_0x39c1e5(0x77)]('state',loadState());}function loadState(){const _0x2e1470=a4_0x815e73,_0x1af902=localStorage[_0x2e1470(0x8e)](KEY);if(_0x1af902)return JSON['parse'](_0x1af902);console['debug']('state\x20not\x20found,\x20saving\x20default\x20state');const _0x46766b=getDefaultState();return saveState(_0x46766b),_0x46766b;}export{loadState,saveState,resetState,nextSessionId,hasSessionById,getSessionById,addSession,addGame};function a4_0x41c1(){const _0x6c5778=['Game\x201','8100603SvoUHm','1488pDjmIC','debug','state','games','Meier','map','lastSessionId','30090fmMlOn','includes','push','3094232dOwYWR','\x20already\x20exists','sessions','find','10605970xeSYku','361688UKOgxq','7kPIMER','\x20not\x20found','setItem','Session\x20with\x20id\x20','#ff0000','Game\x202','8225zSYLzE','1138539WwcgSo','getItem','58rYksyU','Hilbert'];a4_0x41c1=function(){return _0x6c5778;};return a4_0x41c1();}