const a4_0x4e8b04=a4_0x8143;(function(_0x168b1c,_0x5eae22){const _0x37d348=a4_0x8143,_0x1e134d=_0x168b1c();while(!![]){try{const _0x6c99c4=parseInt(_0x37d348(0x72))/0x1+-parseInt(_0x37d348(0x79))/0x2*(-parseInt(_0x37d348(0x7a))/0x3)+parseInt(_0x37d348(0x84))/0x4*(parseInt(_0x37d348(0x78))/0x5)+-parseInt(_0x37d348(0x87))/0x6*(-parseInt(_0x37d348(0x74))/0x7)+-parseInt(_0x37d348(0x70))/0x8+parseInt(_0x37d348(0x6a))/0x9*(-parseInt(_0x37d348(0x7f))/0xa)+-parseInt(_0x37d348(0x6c))/0xb;if(_0x6c99c4===_0x5eae22)break;else _0x1e134d['push'](_0x1e134d['shift']());}catch(_0x5250f3){_0x1e134d['push'](_0x1e134d['shift']());}}}(a4_0x47d4,0xdcb6e));const KEY=a4_0x4e8b04(0x83);function getDefaultState(){const _0x1b8851=a4_0x4e8b04;return{'lastSessionId':0x1,'sessions':[{'id':0x1,'name':_0x1b8851(0x7b),'players':[{'id':0x1,'name':'Hilbert','color':_0x1b8851(0x7e)},{'id':0x2,'name':'Meier','color':'#0000ff'}],'lastGameId':0x2,'games':[{'id':0x1,'name':_0x1b8851(0x88),'initialPlayerId':0x1,'nextPlayerId':0x2,'moves':[{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0}],'snapshot':[[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0]],'state':{'isWon':!![],'isDraw':![],'winnerPlayerId':0x1}},{'id':0x2,'name':_0x1b8851(0x6d),'initialPlayerId':0x2,'nextPlayerId':0x1,'moves':[{'player':0x2,'column':0x1},{'player':0x1,'column':0x2},{'player':0x2,'column':0x1},{'player':0x1,'column':0x2},{'player':0x2,'column':0x1}],'snapshot':[[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0,0x0,0x0],[0x0,0x2,0x1,0x0,0x0,0x0,0x0],[0x0,0x2,0x1,0x0,0x0,0x0,0x0]],'state':{'isWon':![],'isDraw':![],'winnerPlayerId':null}}]}]};}function addGame(_0x490a04,_0x40cdad){const _0xcd2045=a4_0x4e8b04;if(_0x490a04[_0xcd2045(0x81)][_0xcd2045(0x80)](_0x254688=>_0x254688['id'])[_0xcd2045(0x85)](_0x40cdad['id']))throw new Error(_0xcd2045(0x7d)+_0x40cdad['id']+'\x20already\x20exists');_0x490a04[_0xcd2045(0x81)][_0xcd2045(0x6f)](_0x40cdad);}function addSession(_0x4bc20f,_0x4d2b2c){const _0x2bd615=a4_0x4e8b04;if(_0x4bc20f['sessions']['map'](_0x54eb12=>_0x54eb12['id'])[_0x2bd615(0x85)](_0x4d2b2c['id']))throw new Error(_0x2bd615(0x73)+_0x4d2b2c['id']+_0x2bd615(0x6e));_0x4bc20f[_0x2bd615(0x82)][_0x2bd615(0x6f)](_0x4d2b2c);}function nextSessionId(_0x201b29){const _0x3e6426=a4_0x4e8b04,_0x5c3a3a=_0x201b29[_0x3e6426(0x6b)]+0x1;return _0x201b29[_0x3e6426(0x6b)]=_0x5c3a3a,_0x5c3a3a;}function hasSessionById(_0x5c80ba,_0x58e26f){const _0xc28bbe=a4_0x4e8b04,_0x54fbb0=_0x5c80ba[_0xc28bbe(0x82)][_0xc28bbe(0x76)](_0x250f48=>_0x250f48['id']===_0x58e26f);return!!_0x54fbb0;}function a4_0x8143(_0x57d2c8,_0x463d1e){const _0x47d43f=a4_0x47d4();return a4_0x8143=function(_0x814394,_0x1b22e8){_0x814394=_0x814394-0x69;let _0x2ccb61=_0x47d43f[_0x814394];return _0x2ccb61;},a4_0x8143(_0x57d2c8,_0x463d1e);}function getSessionById(_0x571d73,_0x5d693c){const _0x350ba4=a4_0x4e8b04,_0x3d661e=_0x571d73[_0x350ba4(0x82)][_0x350ba4(0x76)](_0xfbb3f0=>_0xfbb3f0['id']===_0x5d693c);if(!_0x3d661e)throw new Error('Session\x20with\x20id\x20'+_0x5d693c+_0x350ba4(0x69));return _0x3d661e;}function resetState(){const _0x29606d=a4_0x4e8b04;saveState(getDefaultState()),console[_0x29606d(0x7c)](_0x29606d(0x83),loadState());}function saveState(_0x307823){const _0x2664df=a4_0x4e8b04;localStorage[_0x2664df(0x75)](KEY,JSON[_0x2664df(0x86)](_0x307823)),console[_0x2664df(0x7c)](_0x2664df(0x83),loadState());}function a4_0x47d4(){const _0x52be3a=['Game\x20with\x20id\x20','#ff0000','16659080ouMbyB','map','games','sessions','state','4afdAkY','includes','stringify','1210926gjNkSI','Game\x201','\x20not\x20found','9EQdeHo','lastSessionId','13195391ZofVaJ','Game\x202','\x20already\x20exists','push','3815904aTQSKx','getItem','674377VgrMAW','Session\x20with\x20id\x20','21FBkpvh','setItem','find','parse','7519705aLWAQA','1462742TUeOTd','6favwnH','Session\x201','debug'];a4_0x47d4=function(){return _0x52be3a;};return a4_0x47d4();}function loadState(){const _0x4f98f1=a4_0x4e8b04,_0x28d1b9=localStorage[_0x4f98f1(0x71)](KEY);if(_0x28d1b9)return JSON[_0x4f98f1(0x77)](_0x28d1b9);console[_0x4f98f1(0x7c)]('state\x20not\x20found,\x20saving\x20default\x20state');const _0x8833f4=getDefaultState();return saveState(_0x8833f4),_0x8833f4;}export{loadState,saveState,resetState,nextSessionId,hasSessionById,getSessionById,addSession,addGame};