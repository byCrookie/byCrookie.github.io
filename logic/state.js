(function(_0x7eb555,_0x40a6e9){const _0x3a461d=a4_0x3ef2,_0x146699=_0x7eb555();while(!![]){try{const _0x2c7aa4=-parseInt(_0x3a461d(0x1ac))/0x1+-parseInt(_0x3a461d(0x1b3))/0x2+parseInt(_0x3a461d(0x19a))/0x3+-parseInt(_0x3a461d(0x19c))/0x4+-parseInt(_0x3a461d(0x1a5))/0x5*(parseInt(_0x3a461d(0x1b4))/0x6)+-parseInt(_0x3a461d(0x1a6))/0x7+parseInt(_0x3a461d(0x1b1))/0x8*(parseInt(_0x3a461d(0x1a7))/0x9);if(_0x2c7aa4===_0x40a6e9)break;else _0x146699['push'](_0x146699['shift']());}catch(_0x49f15a){_0x146699['push'](_0x146699['shift']());}}}(a4_0x5bee,0xe1a7f));const KEY='state';function a4_0x5bee(){const _0x57043f=['Game\x201','1224186MYPxpr','lastSessionId','#ff0000','push','stringify','58264xdDjDt','Session\x201','2503822MREGgo','6nuPBwY','Meier','Game\x202','5472939iIsRwk','find','6022752dXgkjG','setItem','parse','includes','games','Session\x20with\x20id\x20','sessions','map','state\x20not\x20found,\x20saving\x20default\x20state','6620850ZDXYEX','3111843LzJOtv','5994gJaCyS','debug','\x20already\x20exists','Hilbert'];a4_0x5bee=function(){return _0x57043f;};return a4_0x5bee();}function getDefaultState(){const _0x2023ed=a4_0x3ef2;return{'lastSessionId':0x1,'sessions':[{'id':0x1,'name':_0x2023ed(0x1b2),'players':[{'id':0x1,'name':_0x2023ed(0x1aa),'color':_0x2023ed(0x1ae)},{'id':0x2,'name':_0x2023ed(0x198),'color':'#0000ff'}],'lastGameId':0x2,'games':[{'id':0x1,'name':_0x2023ed(0x1ab),'initialPlayerId':0x1,'nextPlayerId':0x2,'moves':[{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0},{'player':0x2,'column':0x1},{'player':0x1,'column':0x0}],'snapshot':[[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x0,0x0,0x0,0x0]],'state':{'isWon':!![],'isDraw':![],'winnerPlayerId':0x1}},{'id':0x2,'name':_0x2023ed(0x199),'initialPlayerId':0x2,'nextPlayerId':0x1,'moves':[{'player':0x2,'column':0x1},{'player':0x1,'column':0x2},{'player':0x2,'column':0x1},{'player':0x1,'column':0x2},{'player':0x2,'column':0x1}],'snapshot':[[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0,0x0,0x0],[0x0,0x2,0x1,0x0,0x0,0x0,0x0],[0x0,0x2,0x1,0x0,0x0,0x0,0x0]],'state':{'isWon':![],'isDraw':![],'winnerPlayerId':null}}]}]};}function addGame(_0x19ac16,_0x2cb629){const _0x55023a=a4_0x3ef2;if(_0x19ac16[_0x55023a(0x1a0)]['map'](_0x298b50=>_0x298b50['id'])[_0x55023a(0x19f)](_0x2cb629['id']))throw new Error('Game\x20with\x20id\x20'+_0x2cb629['id']+'\x20already\x20exists');_0x19ac16[_0x55023a(0x1a0)][_0x55023a(0x1af)](_0x2cb629);}function addSession(_0x320d31,_0x5597d2){const _0x47591c=a4_0x3ef2;if(_0x320d31['sessions'][_0x47591c(0x1a3)](_0x26f69b=>_0x26f69b['id'])[_0x47591c(0x19f)](_0x5597d2['id']))throw new Error(_0x47591c(0x1a1)+_0x5597d2['id']+_0x47591c(0x1a9));_0x320d31[_0x47591c(0x1a2)]['push'](_0x5597d2);}function nextSessionId(_0x36c291){const _0x55276b=a4_0x3ef2,_0x330a1a=_0x36c291[_0x55276b(0x1ad)]+0x1;return _0x36c291[_0x55276b(0x1ad)]=_0x330a1a,_0x330a1a;}function hasSessionById(_0x44e83f,_0xbfafd4){const _0x5c2b13=a4_0x3ef2,_0x4afbbb=_0x44e83f[_0x5c2b13(0x1a2)][_0x5c2b13(0x19b)](_0x2f095b=>_0x2f095b['id']===_0xbfafd4);return!!_0x4afbbb;}function getSessionById(_0x25970d,_0x192ce9){const _0x5868e1=a4_0x3ef2,_0x53a19b=_0x25970d[_0x5868e1(0x1a2)][_0x5868e1(0x19b)](_0x58b27d=>_0x58b27d['id']===_0x192ce9);if(!_0x53a19b)throw new Error(_0x5868e1(0x1a1)+_0x192ce9+'\x20not\x20found');return _0x53a19b;}function resetState(){const _0x2d7095=a4_0x3ef2;saveState(getDefaultState()),console[_0x2d7095(0x1a8)]('state',loadState());}function a4_0x3ef2(_0x3ae477,_0xc7097){const _0x5beedd=a4_0x5bee();return a4_0x3ef2=function(_0x3ef23d,_0x3405e6){_0x3ef23d=_0x3ef23d-0x198;let _0x45a4fe=_0x5beedd[_0x3ef23d];return _0x45a4fe;},a4_0x3ef2(_0x3ae477,_0xc7097);}function saveState(_0x4ccf73){const _0x4aa452=a4_0x3ef2;localStorage[_0x4aa452(0x19d)](KEY,JSON[_0x4aa452(0x1b0)](_0x4ccf73)),console['debug']('state',loadState());}function loadState(){const _0xd5d2d0=a4_0x3ef2,_0x2475d0=localStorage['getItem'](KEY);if(_0x2475d0)return JSON[_0xd5d2d0(0x19e)](_0x2475d0);console[_0xd5d2d0(0x1a8)](_0xd5d2d0(0x1a4));const _0x584595=getDefaultState();return saveState(_0x584595),_0x584595;}export{loadState,saveState,resetState,nextSessionId,hasSessionById,getSessionById,addSession,addGame};